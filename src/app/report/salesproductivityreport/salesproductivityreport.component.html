<div class="row">
    <div class="col-lg-12 card">
        <!-- <form> -->
            <div class="form-head" id="form-blue">
                <div class="row">
                    <h4 class="form-head col-md-5 col-lg-5">

                        Productivity Report
                    </h4>

                    <div class="nastock col-md-5 col-lg-5 pt-1">
                        <label class="switch">
                            <input class="switch-input" type="checkbox" (change)="switchChange()" name="type"
                                [(ngModel)]="type" />
                            <span class="switch-label" data-on="Value" data-off="Qty"></span>
                            <span class="switch-handle"></span>
                        </label>
                    </div>

                    <div class="col-md-2 col-lg-2">
                        <a *ngIf="blnDownload" data-toggle="tooltip" title="Export" > <i class="fas fa-download" data-toggle="modal"
                                data-target="#myModal" aria-hidden="true" (click)="openExport(exportModal)"></i></a>
                        &nbsp;&nbsp;
                        <a *ngIf="blnDownload" data-toggle="tooltip" title="Mail"><i class="fas fa-envelope" data-toggle="modal"
                                data-target="#myModal-two" aria-hidden="true" (click)="openMail()"></i></a>
                                &nbsp;&nbsp;
                                <!-- <a data-toggle="tooltip" title="Chat"><i class="fa fa-comment-o" data-toggle="modal"
                                        data-target="#myModal-three" aria-hidden="true"></i></a> -->
                    </div>

                </div>
            </div>
            <!-- <div class="row">
                <div class="col-md-2 mt-4"> -->
                    <!-- <app-date-range-picker-3 (onSelectDate)="datFromDate=$event[0];datToDate=$event[1];showDatewiseData($event[0],$event[1]);">
                    </app-date-range-picker-3> -->
                    <!-- <input type="text" ngxDaterangepickerMd startKey="start" alwaysShowCalendars="true" endKey="end" [ranges]="ranges" [(ngModel)]="selected"> -->
                    <!-- <input type="text"
    ngxDaterangepickerMd
    [locale]="{applyLabel: 'ok', format: 'DD-MM-YYYY'}"
    startKey="start"
    endKey="end"
    [(ngModel)]="selected"
    customRangeDirection="true"
    alwaysShowCalendars="true"
    [ranges]="ranges"
    name="daterange"/>
                </div> -->

                <div class="row">
                    <!-- <div class="padd_l_r mt-4">
                        <app-date-range-picker-3 (onSelectDate)="datFromDate=$event[0];datToDate=$event[1];showDatewiseData($event[0],$event[1]);">
                        </app-date-range-picker-3>
                    </div> -->
                    <div class="row mt-1">
                        <div class="col-md-3">
                            <mat-form-field>
                                <input name="fromDate" (click)="picker.open()" matInput [matDatepicker]="picker" placeholder="From" [(ngModel)]="datFromDate">
                                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                                <mat-datepicker #picker></mat-datepicker>
                            </mat-form-field>
                        </div>
                        <div class="col-md-3">
                            <mat-form-field>
                                <input name="toDate" (click)="picker1.open()" matInput [matDatepicker]="picker1" placeholder="To" [(ngModel)]="datToDate">
                                <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                                <mat-datepicker #picker1></mat-datepicker>
                            </mat-form-field>
                        </div>
                        
                    </div>

                    
                <div class="col-md-2 mt-2">
                    <mat-form-field>
                        <input matInput placeholder="Branch" [(ngModel)]="branchName" name="branch" [formControl]="searchBranch" [matAutocomplete]="branch" #idBranch>
                        <mat-autocomplete #branch="matAutocomplete">
                            <mat-option *ngFor="let item of lstBranches" [value]="item.name" (onSelectionChange)="BranchChanged(item)">
                                {{ item.id+' - '+item.name }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>
                <div class="col-md-2 mt-2">
                    <mat-form-field>
                        <mat-select [(ngModel)]="promoter" name="branchSelected" placeholder="Select type" (change)="setType()">
                            <mat-option value="staff" >Staff</mat-option>
                            <mat-option value="brandPromoter" >Brand Promoter</mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="col-md-5 mt-2" *ngIf="!promoterType">
                    <mat-form-field>
                        <mat-chip-list #chipList>
                            <mat-chip *ngFor="let value of staffSelected" (removed)="removeStaff(value)">
                                ​{{ (value.strUserName.length>3 ? value.strUserName.substring(0,3) + "..": strUserName.name) | titlecase }}
                                <!-- <mat-icon matChipRemove>cancel</mat-icon> -->
                                <i matChipRemove class="fas fa-times"></i>
                            </mat-chip>
                            <input [matChipInputFor]="chipList" matInput placeholder="Staff" [(ngModel)]="staffName" name="staff" [formControl]="searchStaff" [matAutocomplete]="staff" #idStaff>
                        </mat-chip-list>

                        <!-- <input matInput placeholder="Branch" [(ngModel)]="branchName" name="branch" [formControl]="searchBranch" [matAutocomplete]="branch"  #idBranch> -->
                        <mat-autocomplete #staff="matAutocomplete">
                            <mat-option *ngFor="let item of lstStaffes" [value]="item.strUserName" (onSelectionChange)="addStaff(item)">
                                {{ item.strUserCode+' - '+item.strUserName }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>

                <div class="col-md-5 mt-2" *ngIf="promoterType">
                    <mat-form-field>
                        <mat-chip-list #chipList>
                            <mat-chip *ngFor="let value of promoterSelected" (remove)="removePromoter(value)">
                                ​{{ (value.strUserName.length>3 ? value.strUserName.substring(0,3) + "..": value.strUserName) | titlecase }}
                                <!-- <mat-icon matChipRemove>cancel</mat-icon> -->
                                <i matChipRemove class="fas fa-times"></i>
                            </mat-chip>
                            <input [matChipInputFor]="chipList" matInput placeholder="Promoter" [(ngModel)]="promoterName" name="promoter" [formControl]="searchPromoter" [matAutocomplete]="promoter" #idPromoter>
                        </mat-chip-list>

                        <!-- <input matInput placeholder="Branch" [(ngModel)]="branchName" name="branch" [formControl]="searchBranch" [matAutocomplete]="branch"  #idBranch> -->
                        <mat-autocomplete #promoter="matAutocomplete">
                            <mat-option *ngFor="let item of lstPromoters" [value]="item.name" (onSelectionChange)="addPromoter(item)">
                                {{ item.id+' - '+item.name }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>

                <div class="col-md-12 filter" *ngIf="!blnFilterOn" style="    margin-left: 0;">
                    <span>Advanced Filter</span> 
                    <!-- <mat-icon title="Click here" (click)="filterClick()" class="filter_btn mat-icon material-icons" role="img" aria-hidden="true">keyboard_arrow_down</mat-icon> -->
                    <span class="cursor" (click)="filterClick()">
                        <i class="fa fa-chevron-down" title="Click here" style="margin-left: 5px;color: #58c2ec;"></i>
                       </span>
                    <!-- <mat-icon title="Click here"  class="filter_btn mat-icon material-icons" role="img" aria-hidden="true">highlight_off</mat-icon> -->
                </div>
                <div class="col-md-2 mt-3">
                    <button mat-raised-button (click)="showDatewiseData(datFromDate,datToDate);" color="primary" mat-button *ngIf="!blnFilterOn">OK</button>
                </div>
                <div class="col-lg-12 filter" style="margin-left: 0px;" *ngIf="blnFilterOn">
                        &nbsp;<span>Advanced Filter</span> 
                    <!-- <mat-icon title="Click here" class="filter_btn mat-icon material-icons" role="img" aria-hidden="true">keyboard_arrow_down</mat-icon> -->
                    <!-- <mat-icon title="Click here" (click)="filterClickOff()"  class="filter_btn mat-icon material-icons" role="img" aria-hidden="true">highlight_off</mat-icon> -->
                    <span class="cursor" (click)="filterClickOff()">
                        <i class="fa fa-chevron-up" title="Click here" style="margin-left: 5px;color: #58c2ec;"></i>
                       </span>
                </div>
                </div>
                <div class="row" *ngIf="blnFilterOn">   
                <div class="padd_l_r mt-2">
                    <mat-form-field>
                        <input matInput placeholder="Product" [(ngModel)]="product" name="product" [formControl]="searchProduct" [matAutocomplete]="products" >
                        <mat-autocomplete #products="matAutocomplete">
                            <mat-option *ngFor="let item of lstProducts" [value]="item.name" (onSelectionChange)="productChanged(item)">
                                {{item.name }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                  </div>

                <div class="padd_l_r mt-2">
                    <mat-form-field>
                        <input matInput placeholder="Brand" [(ngModel)]="brandName" name="brand" [formControl]="searchBrand" [matAutocomplete]="brand" #idBrand>
                        <mat-autocomplete #brand="matAutocomplete">
                            <mat-option *ngFor="let item of lstBrands" [value]="item.name" (onSelectionChange)="BrandChanged(item)">
                                {{item.name }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>

                <!-- <div class="padd_l_r mt-2">
                    <mat-form-field>
                        <input matInput placeholder="Item" [(ngModel)]="itemName" name="item" [formControl]="searchItem" [matAutocomplete]="item" #idItem>
                        <mat-autocomplete #item="matAutocomplete">
                            <mat-option *ngFor="let item of lstItems" [value]="item.name" (onSelectionChange)="ItemChanged(item)">
                                {{ item.code+' - '+item.name }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </div> -->
                <div class="padd_l_r mt-3">
                    <button mat-raised-button (click)="showDatewiseData(selectedFromDate,selectedToDate);" color="primary" mat-button>
            OK
          </button>
                </div>
            </div>
        <!-- </form> -->
        </div>
</div>
<div class="row" *ngIf="nodata.length>0">
    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12" *ngIf="barChartLabels.length > 0">
        <div style="margin: 0 0 0 0; padding: 0 0 0 0;" class="border_top1 card">
            {{"Staff Wise"|titlecase}}
            <!-- <small *ngIf="barChartOptions.title.text.length>5">
        {{ barChartOptions.title.text|titlecase|slice:0:5 }}...
      </small>
            <small *ngIf="barChartOptions.title.text.length<=5">
        {{ barChartOptions.title.text|titlecase }}
      </small> -->
            <span class="pull-right">
                 <!-- Show pie chart -->
                 <!-- <a data-toggle="tooltip" *ngIf="blnStaffChartType" title="Show pie chart data" style="cursor: pointer;" (click)="changeStaffChart()">
                        <i class="fa fa-pie-chart"></i>
                        </a> -->
                        <!-- Show pie char end -->
                        <!-- Show bar chart -->
                        <!-- <a data-toggle="tooltip" *ngIf="!blnStaffChartType" title="Show bar chart data" style="cursor: pointer;" (click)="changeStaffChart()">
                            <i class="fa fa-bar-chart"></i>
                            </a> -->
                        <!-- Show bar char end -->

        <!-- <span (click)="showAll()" style="position: initial;" class="all_span ">All</span> -->
          <!-- Table data icon -->
          <a data-toggle="tooltip" title="Table data" style="cursor: pointer;" (click)="showPopupData(dataModal,'Staff')">
                &nbsp;<i class="fa fa-eye" data-toggle="modal" data-target="#chart_modal" aria-hidden="true"></i>
                &nbsp;&nbsp;
                </a>
        <!-- Table data icon end here -->
            <ng-container *ngIf='sourceMaxIndex>1 && blnStaffChartType'>
                <small class="chart-icons fas fa-arrow-left" (click)="moveBar('source','left')"></small>
                <small>
            &nbsp; Page {{sourceCurrentIndex}} of {{sourceMaxIndex}} &nbsp;&nbsp;&nbsp;
          </small>
                <small class="chart-icons fa fa-arrow-right" (click)="moveBar('source','right')"></small>
            </ng-container>
            <span class="chart-icons fa fa-chevron-up" title="Good" *ngIf="blnGood" (click)="goodOnClick()" [ngClass]="{'active':blnActive}"></span>
            <span class="chart-icons fa fa-chevron-down" title="Poor" *ngIf="blnPoor" (click)="poorOnClick()" [ngClass]="{'active':!blnActive}"></span>
            </span>
        </div>
        <div id="chart" *ngIf = "blnStaffChartType" class="card">
            <canvas height="250" baseChart [datasets]="barChartData" [labels]="barChartLabels2" [options]="barChartOptions" [legend]="barChartLegend" [chartType]="barChartType" [colors]="barChartColors" (chartClick)="chartClicked($event)">
      </canvas>
    </div>
        <div id="chart" *ngIf = "!blnStaffChartType">
                <canvas height="250" baseChart [data]="barChartData" [labels]="barChartLabels1" [options]="productPieOptions" [legend]="barChartLegend" [chartType]="productPieChartType" [colors]="pieChartColors" (chartClick)="chartClicked($event)">
          </canvas>
        </div>
    </div>

    <div  style="background-color: white;" class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12" *ngIf="productBarChartLabels.length > 0">
        <div style="margin: 0 0 0 0; padding: 0 0 0 0;" class="border_top2 card">
            {{"Product Wise - "|titlecase}}
            <small *ngIf="productBarChartOptions.title.text.length>5">
        {{ productBarChartOptions.title.text|titlecase|slice:0:5 }}...
      </small>
            <small *ngIf="productBarChartOptions.title.text.length<=5">
        {{ productBarChartOptions.title.text|titlecase }}
      </small>
            <span class="pull-right">
                   <!-- Show pie chart -->
                   <a data-toggle="tooltip" *ngIf="blnChartType" title="Show pie chart data" style="cursor: pointer;" (click)="changeChart()">
                        <i class="fas fa-chart-pie"></i>
                        </a>
                        <!-- Show pie char end -->
                        <!-- Show bar chart -->
                        <a data-toggle="tooltip" *ngIf="!blnChartType" title="Show bar chart data" style="cursor: pointer;" (click)="changeChart()">
                            <i class="fas fa-chart-bar"></i>
                            </a>
                        <!-- Show bar char end -->
                  <!-- Table data icon -->
                  <a data-toggle="tooltip" title="Table data" style="cursor: pointer;" (click)="showPopupData(dataModal,'Product')">
                        &nbsp;<i class="fa fa-eye" data-toggle="modal" data-target="#chart_modal" aria-hidden="true"></i>
                        &nbsp;&nbsp;
                        </a>
                <!-- Table data icon end here -->
        <ng-container *ngIf='productMaxIndex>1 && blnChartType'>
          <small class="chart-icons fa fa-arrow-left" (click)="moveBar('product','left')"></small>
          <small>
            &nbsp; Page {{productCurrentIndex}} of {{productMaxIndex}} &nbsp;&nbsp;&nbsp;
          </small>
          <small class="chart-icons fa fa-arrow-right" (click)="moveBar('product','right')"></small>
        </ng-container>
      </span>
    </div>
        <div id="chart" *ngIf = "blnChartType card">
            <canvas height="250" baseChart [datasets]="productBarChartData" [labels]="productBarChartLabels" [options]="productBarChartOptions" [legend]="barChartLegend" [chartType]="barChartType" [colors]="barSalesChartColor" (chartClick)="productChartClicked($event)">
      </canvas>
    </div>
        <div id="chart"  *ngIf = "!blnChartType" class = "card">
                <canvas height="235" baseChart [datasets]="productBarChartData" [labels]="productBarChartLabels1" [options]="productPieOptions" [legend]="barChartLegend" [chartType]="productPieChartType" [colors]="pieChartColors" (chartClick)="productChartClicked($event)">
          </canvas>
        </div>
    </div>

    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12" *ngIf="brandBarChartLabels.length > 0">
        <div style="margin: 0 0 0 0; padding: 0 0 0 0;" class="border_top3 card">
            {{"Brand Wise - "|titlecase}}
            <small *ngIf="brandBarChartOptions.title.text.length>5">
        {{ brandBarChartOptions.title.text|titlecase|slice:0:5 }}...
      </small>
            <small *ngIf="brandBarChartOptions.title.text.length<=5">
        {{ brandBarChartOptions.title.text|titlecase }}
      </small>
            <span class="pull-right">
                    <a data-toggle="tooltip" *ngIf="blnBrandChartType" title="Show pie chart data" style="cursor: pointer;" (click)="changeBrandChart()">
                            <i class="fas fa-chart-pie"></i>
                            </a>
                            <!-- Show pie char end -->
                            <!-- Show bar chart -->
                            <a data-toggle="tooltip" *ngIf="!blnBrandChartType" title="Show bar chart data" style="cursor: pointer;" (click)="changeBrandChart()">
                                <i class="fas fa-chart-bar"></i>
                                </a>
                            <!-- Show bar char end -->
                  <!-- Table data icon -->
                  <a data-toggle="tooltip" title="Table data" style="cursor: pointer;" (click)="showPopupData(dataModal,'Brand')">
                        &nbsp;<i class="fa fa-eye" data-toggle="modal" data-target="#chart_modal" aria-hidden="true"></i>
                        &nbsp;&nbsp;
                        </a>
                <!-- Table data icon end here -->
        <ng-container *ngIf='brandMaxIndex>1 && blnBrandChartType'>
          <small class="chart-icons fa fa-arrow-left" (click)="moveBar('brand','left')"></small>
          <small>
            &nbsp; Page {{brandCurrentIndex}} of {{brandMaxIndex}} &nbsp;&nbsp;&nbsp;
          </small>
          <small class="chart-icons fa fa-arrow-right" (click)="moveBar('brand','right')"></small>
        </ng-container>
      </span>
    </div>
        <div id="chart" *ngIf="blnBrandChartType" class="card">
            <canvas height="250" baseChart [datasets]="brandBarChartData" [labels]="brandBarChartLabels" [options]="brandBarChartOptions" [legend]="barChartLegend" [chartType]="barChartType" [colors]="barSalesChartColor" (chartClick)="brandChartClicked($event)">
      </canvas>
    </div>
        <div id="chart" *ngIf="!blnBrandChartType" class="card">
                <canvas height="235" baseChart [datasets]="brandBarChartData" [labels]="brandBarChartLabels1" [options]="productPieOptions" [legend]="barChartLegend" [chartType]="productPieChartType" [colors]="pieChartColors" (chartClick)="brandChartClicked($event)">
          </canvas>
        </div>
    </div>

    <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12" *ngIf="itemBarChartLabels.length > 0">
        <div style="margin: 0 0 0 0; padding: 0 0 0 0;" class="border_top4 card">
            {{"Item Wise - "|titlecase}}
            <small *ngIf="itemBarChartOptions.title.text.length>5">
        {{ itemBarChartOptions.title.text|titlecase|slice:0:5 }}...
      </small>
            <small *ngIf="itemBarChartOptions.title.text.length<=5">
        {{ itemBarChartOptions.title.text|titlecase }}
      </small>
            <span class="pull-right">
                 <!-- Show pie chart -->
                 <!-- <a data-toggle="tooltip" *ngIf="blnItemChartType" title="Show pie chart data" style="cursor: pointer;" (click)="changeItemChart()">
                        <i class="fa fa-pie-chart"></i>
                        </a> -->
                        <!-- Show pie char end -->
                        <!-- Show bar chart -->
                        <!-- <a data-toggle="tooltip" *ngIf="!blnItemChartType" title="Show bar chart data" style="cursor: pointer;" (click)="changeItemChart()">
                            <i class="fa fa-bar-chart"></i>
                            </a> -->
                        <!-- Show bar char end -->
                  <!-- Table data icon -->
                  <a data-toggle="tooltip" title="Table data" style="cursor: pointer;" (click)="showPopupData(dataModal,'Item')">
                        &nbsp;<i class="fa fa-eye" data-toggle="modal" data-target="#chart_modal" aria-hidden="true"></i>
                        &nbsp;&nbsp;
                        </a>
                <!-- Table data icon end here -->
        <ng-container *ngIf='itemMaxIndex>1 && blnItemChartType'>
          <small class="chart-icons fa fa-arrow-left" (click)="moveBar('item','left')"></small>
          <small>
            &nbsp; Page {{itemCurrentIndex}} of {{itemMaxIndex}} &nbsp;&nbsp;&nbsp;
          </small>
          <small class="chart-icons fa fa-arrow-right" (click)="moveBar('item','right')"></small>
        </ng-container>
      </span>
    </div>
        <div id="chart" *ngIf ="blnItemChartType" class="card">
            <canvas height="250" baseChart [datasets]="itemBarChartData" [labels]="itemBarChartLabels" [options]="itemBarChartOptions" [legend]="barChartLegend" [chartType]="barChartType" [colors]="barSalesChartColor">
      </canvas>
    </div>
        <div id="chart" *ngIf ="!blnItemChartType" class="card">
                <canvas height="250" baseChart [data]="itemBarChartData" [labels]="itemBarChartLabels" [options]="productPieOptions" [legend]="barChartLegend" [chartType]="productPieChartType" [colors]="pieChartColors">
          </canvas>
        </div>
    </div>

</div>

<div class="col-lg-12 col-md-12" *ngIf="blnChecked">
    <div class="example-header">
        <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
        </mat-form-field>
    </div>
    <mat-table [dataSource]="dataSource" matSort matSortActive="dat_created_at" matSortDirection="asc">
        <ng-container matColumnDef="date">
            <mat-header-cell *matHeaderCellDef mat-sort-header='dat_created_at'> Created date </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row[4] | date:'dd-MM-yyyy'}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="num">
            <mat-header-cell *matHeaderCellDef mat-sort-header='vchr_enquiry_num'> Enquiry no. </mat-header-cell>
            <mat-cell *matCellDef="let row">{{row[3]}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef mat-sort-header='staff_full_name'> Staff name </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row[2] | titlecase}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="custName">
            <mat-header-cell *matHeaderCellDef mat-sort-header='customer_full_name'> Customer name </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row[14] | titlecase}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="service">
            <mat-header-cell *matHeaderCellDef mat-sort-header='vchr_service'> Product </mat-header-cell>
            <mat-cell *matCellDef="let row">{{row[1] | titlecase}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="brand">
            <mat-header-cell *matHeaderCellDef mat-sort-header='vchr_brand_name'> Brand </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row[8] | titlecase}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="branch">
            <mat-header-cell *matHeaderCellDef mat-sort-header='branch_name'> Branch </mat-header-cell>
            <mat-cell *matCellDef="let row"> {{row[6] | titlecase}}</mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;">
        </mat-row>
    </mat-table>
    <mat-paginator #paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
</div>

<div *ngIf="nodata.length==0" class="card">
    <h5 class="mat-toolbar">No data to display</h5>
</div>






      <!-- Modal -->
<div class="modal fade" id="myModal" role="dialog" [style.display]="showModal ? 'block' : 'none'">
        <div class="modal-dialog modal-sm" [style.display]="showModal ? 'block' : 'none'">

                <!-- Modal content-->
                <!-- <div class="modal-content">
                        <div class="modal-header">
                                <button type="button" class="close" (click)="closeExport()" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title text-center" id="modal-blue">Export</h4>
                        </div>
                        <div class="modal-body">
                                <h6>Choose File Format</h6>
                                <hr>
                                <form style="padding-bottom: 5px;" class="text-center">
                                        <mat-radio-group class="unique-radio-button" name="export" [(ngModel)]="export">
                                                <mat-radio-button [value]=true>
                                                        <i class="fa fa-file-excel-o fa-2x bl" aria-hidden="true"></i>
                                                        <strong>Excel</strong></mat-radio-button>
                                                <mat-radio-button [value]=false>
                                                        <i class="fa fa-file-pdf-o fa-2x re" aria-hidden="true"></i>
                                                        <strong>PDF</strong></mat-radio-button>
                                        </mat-radio-group>
                                </form>
                                <br>
                                <form class="text-center">
                                        <mat-checkbox [(ngModel)]="chart" name="chart" id="chart" value="chart">Chart</mat-checkbox>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <mat-checkbox [(ngModel)]="table" name="table" id="table" value="table">Table data</mat-checkbox>

                                        <hr>
                                </form>
                                <div class="row">
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                                        <button type="button" class="mat-button mat-raised-button mat-primary pull-left"
                                                                data-dismiss="modal">Cancel</button>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                                        <button type="button" (click)='exportPdfExcel(datFromDate,datToDate)'
                                                                class="mat-raised-button mat-accent pull-right" data-dismiss="modal">Export</button>
                                                </div>
                                        </div>
                        </div>
                        
                </div> -->

        </div>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal-two" role="dialog" [style.display]="showModal2 ? 'block' : 'none'">
        <div class="modal-dialog modal-sm" [style.display]="showModal2 ? 'block' : 'none'">

                <!-- Modal content-->
                <div class="modal-content">
                        <div class="modal-header">
                                <button type="button" class="close" (click)="closeMail()" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title text-center" id="modal-blue">Export as Email</h4>
                        </div>
                        <div class="modal-body">
                                <h6>Choose File Format</h6>
                                <hr>
                                <form style="padding-bottom: 5px;" class="text-center">

                                        <mat-radio-group class="unique-radio-button" name="emailExport" [(ngModel)]="emailExport">
                                                <mat-radio-button [value]=true>
                                                        <i class="fa fa-file-excel-o fa-2x bl" aria-hidden="true"></i>
                                                        <strong>Excel</strong></mat-radio-button>
                                                <mat-radio-button [value]=false>
                                                        <i class="fa fa-file-pdf-o fa-2x re" aria-hidden="true"></i>
                                                        <strong>PDF</strong></mat-radio-button>
                                        </mat-radio-group>
                                </form>
                                <br>
                                <form class="text-center">
                                        <mat-checkbox [(ngModel)]="chart" name="chart" id="chart" value="chart">Chart</mat-checkbox>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <mat-checkbox [(ngModel)]="table" name="table" id="table" value="table">Table
                                                data</mat-checkbox>

                                        <hr>
                                </form>
                                <mat-form-field>
                                        <input matInput placeholder="Email address:" [(ngModel)]="email">
                                </mat-form-field>

                                <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                                <button type="button" class="mat-button mat-raised-button mat-primary pull-left"
                                                        data-dismiss="modal">Cancel</button>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                                <button type="button" (click)='exportWithEmail(datFromDate,datToDate)'
                                                        class="mat-raised-button mat-accent pull-right" data-dismiss="modal">Send</button>
                                        </div>
                                </div>

                        </div>


                </div>

        </div>
</div>

<!--Modal -->
<!-- <div class="modal fade" id="myModal-three" role="dialog">
<div class="modal-dialog modal-sm">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title text-center">Chat</h4>
        </div>
        <div class="modal-body">


                <form style="background-color: rgb(185, 214, 255); padding-bottom: 5px;" class="text-center">
                            
                  <mat-radio-group  name="chatExport" [(ngModel)]="chatExport">
                      <mat-radio-button  [value]=true>
                          <i class="fa fa-file-excel-o" aria-hidden="true"></i> Excel</mat-radio-button>
                      <mat-radio-button  [value]=false>
                          <i class="fa fa-file-pdf-o" aria-hidden="true"></i>PDF</mat-radio-button>
                  </mat-radio-group>
               

                
              </form>
                      <br>
               <form class="text-center">
                      <mat-checkbox [(ngModel)]="chart" name="chart" id="chart"  value="chart">Chart</mat-checkbox>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      <mat-checkbox [(ngModel)]="table" name="table" id="table"  value="table">Table-data</mat-checkbox>

                        <hr>
    
    
                       
                    </form>



            <mat-form-field>
                <input matInput placeholder="Name:" [(ngModel)]="chatName" name="chatName">
            </mat-form-field>


        </div>

        <div class="modal-footer">
            <button type="button" class="mat-raised-button mat-accent" data-dismiss="modal">Export</button>
        </div>
    </div> 


</div>
</div> -->


<!-- chart table start here -->
<ng-template #dataModal let-modal>
    <!-- <div class="modal fade" id="chart_modal" role="dialog" [style.display]="showPopup ? 'block' : 'none'"> -->
        <!-- <div class="modal-dialog modal-lg">
          <div class="modal-content"> -->
            <!-- <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" (click)="closePopup()">&times;</button>
              <h4 class="modal-title text-center">{{chartHead}} Wise Report</h4>
            </div> -->
            <!-- <div class="modal-body">
              <div class="example-container mat-elevation-z8"> -->
    
              <mat-table style="" [dataSource]="dataSource1" matSort class="mat-elevation-z8">
      
                  <!-- Position Column -->
                  <ng-container matColumnDef="name">
                    <mat-header-cell *matHeaderCellDef mat-sort-header='Name'> {{ chartHead }} </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.Name}} </mat-cell>
                    <!-- <mat-cell *matCellDef> Total </mat-cell> -->
    
                  </ng-container>
      
                  <!-- Enquiry Quantity Column -->
                  <ng-container matColumnDef="enquiryQty">
                    <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='EnquiryQty'> Enq.Qty </mat-header-cell>
                    <mat-cell  class="text-right" *matCellDef="let element"> {{element.EnquiryQty}} </mat-cell>
                    <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->
    
                  </ng-container>
    
                   <!-- Sales Quantity Column -->
                   <ng-container matColumnDef="salesQty">
                        <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='SaleQty'> Sale Qty </mat-header-cell>
                        <mat-cell  class="text-right" *matCellDef="let element"> {{element.SaleQty}} </mat-cell>
                        <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->
    
                      </ng-container>
    
                  <!-- Contribution Percentage Column -->
                  <ng-container matColumnDef="contribQtyPer">
                        <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='ContribQty_per'> Contrib Qty % </mat-header-cell>
                        <mat-cell  class="text-right" *matCellDef="let element"> {{element.ContribQty_per}} </mat-cell>
                        <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->
    
                  </ng-container>
    
                <!-- Enquiry Value Column -->
                <ng-container matColumnDef="enquiryVal">
                    <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='EnquiryValue'> Enq.Value </mat-header-cell>
                    <mat-cell  class="text-right" *matCellDef="let element"> {{element.EnquiryValue}} </mat-cell>
                    <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->
    
                </ng-container>
    
           <!-- Sales Value Column -->
           <ng-container matColumnDef="salesVal">
                <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='SaleValue'> Sale Value </mat-header-cell>
                <mat-cell  class="text-right" *matCellDef="let element"> {{element.SaleValue}} </mat-cell>
                <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->
    
              </ng-container>
    
                  <!-- Contribution Percentage Column -->
                  <ng-container matColumnDef="contribPer">
                    <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='Contrib_per'> Contrib Value % </mat-header-cell>
                    <mat-cell  class="text-right" *matCellDef="let element"> {{element.Contrib_per}} </mat-cell>
                    <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->
    
                  </ng-container>
    
                    <!-- Conversion Percentage Column -->
                    <ng-container matColumnDef="conversionPer">
                            <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='Conversion_per'> Conversion % </mat-header-cell>
                            <mat-cell  class="text-right" *matCellDef="let element"> {{element.Conversion_per}} </mat-cell>
                            <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->
    
                        </ng-container>
    
                  <mat-header-row *matHeaderRowDef="displayedColumns1"></mat-header-row>
                  <mat-row *matRowDef="let row; columns: displayedColumns1;"></mat-row>
                  <!-- <mat-row *matRowDef></mat-row> -->
    
                  <!-- <mat-footer-row *matFooterRowDef></mat-footer-row> -->
    
    
                  <!-- <mat-footer-row *matFooterRowDef="displayedColumns1; sticky: true"></mat-footer-row> -->
                    <!-- <ng-container>
                       
                        <mat-cell> {{enqQtyTot}} </mat-cell>
                    </ng-container> -->
    
                </mat-table>
    
    
    
                <!-- <mat-paginator [pageIndex]="0" [length]="10" [pageSize]="10" [pageSizeOptions]="[10, 25, 100]"></mat-paginator> -->
                <!-- </div>
            </div> -->
            <div class="modal-footer">
    
                             
                    <!-- &nbsp;&nbsp; -->
                <div class="table-responsive">
                    <table style="width: 100%;">
                        <tr>
                            <td style=" width: 97.7px;color:#556171;font-size: 12px;"><b>Grand Total</b></td>
                            <td style=" width: 97.7px;" class="text-right"><b>{{enqQtyTot}}</b></td>                            
                            <td style=" width: 97.7px;" class="text-right"><b>{{saleQtyTot}} </b></td>                            
                            <td style=" width: 97.7px;">&nbsp;</td>
                            <td style=" width: 97.7px;" class="text-right"><b>{{enqValTot}}</b> </td>    
                            <td style=" width: 97.7px;" class="text-right"><b>{{grandTotal}}</b> </td>                            
                            <td style=" width: 97.7px;">&nbsp;</td>
                            <td *ngIf="blnDownload" style=" width: 97.7px;"><button  type="button" style="background:#12aa89;border:0px;" class="btn btn-primary pull-right" (click)="exportAsXLSX(chartHead)" >Export</button></td>
                        </tr>
                    </table>
                </div>
               
              <!-- <button type="button" class="mat-raised-button mat-accent" data-dismiss="modal">Export</button> -->
            </div>
          <!-- </div>
        </div> -->
      <!-- </div> -->
    
    </ng-template>
          <!-- chart table end here -->
    
          <!-- <app-spinner *ngIf="showSpinner"></app-spinner> -->


<ng-template #exportModal let-modal>

    <div class="modal-content">
        <div class="modal-header">
                <button type="button" class="close" (click)="closeExport()" data-dismiss="modal">&times;</button>
                <h4 class="modal-title text-center" id="modal-blue">Export</h4>
        </div>
        <div class="modal-body">
                <h6>Choose File Format</h6>
                <hr>
                <form style="padding-bottom: 5px;" class="text-center">
                        <mat-radio-group class="unique-radio-button" name="export" [(ngModel)]="export">
                                <mat-radio-button [value]=true>
                                        <i class="fa fa-file-excel-o fa-2x bl" aria-hidden="true"></i>
                                        <strong>Excel</strong></mat-radio-button>
                                <mat-radio-button [value]=false>
                                        <i class="fa fa-file-pdf-o fa-2x re" aria-hidden="true"></i>
                                        <strong>PDF</strong></mat-radio-button>
                        </mat-radio-group>
                </form>
                <br>
                <form class="text-center">
                        <mat-checkbox [(ngModel)]="chart" name="chart" id="chart" value="chart">Chart</mat-checkbox>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <mat-checkbox [(ngModel)]="table" name="table" id="table" value="table">Table data</mat-checkbox>

                        <hr>
                </form>
                <div class="row">
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                        <button type="button" class="mat-button mat-raised-button mat-primary pull-left"
                                                data-dismiss="modal">Cancel</button>
                                </div>
                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                        <button type="button" (click)='exportPdfExcel(datFromDate,datToDate)'
                                                class="mat-raised-button mat-accent pull-right" data-dismiss="modal">Export</button>
                                </div>
                        </div>
        </div>
        
    </div>
</ng-template>

    
    