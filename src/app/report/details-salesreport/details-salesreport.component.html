<div class="card">
  <div class="card-body">
      <h4><b>Detail Sales Report</b></h4>

      <div class="row mt-3">

         <div class="col-md-2 col-lg-2">
                <mat-form-field>
                  <input (click)="picker1.open()" id="fromId" #startDate required readonly matInput [matDatepicker]="picker1" name="dateFrom"
                    placeholder="From" [(ngModel)]="datFrom">
                  <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                  <mat-datepicker #picker1>
                  </mat-datepicker>
                </mat-form-field>
              </div>

              <div class="col-md-2 col-lg-2">
                <mat-form-field>
                  <input (click)="picker2.open()" id="toId" #endDate required readonly matInput [matDatepicker]="picker2" name="dateTo" placeholder="To"
                    [(ngModel)]="datTo">
                  <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
                  <mat-datepicker #picker2>
                  </mat-datepicker>
                </mat-form-field>
              </div>
              
             <div class="col-md-2">
              <mat-form-field>
                <input matInput placeholder="Customer" [formControl]="searchCustomer" [matAutocomplete]="customer" [(ngModel)]="strSelectedCustomer"  (ngModelChange)="customerNgModelChanged($event)">
                   <mat-autocomplete #customer="matAutocomplete">
                      <mat-option *ngFor="let item of lstCustomer" [value]="item.name" (onSelectionChange)="customerChanged(item)">{{ item.name }} </mat-option>
                   </mat-autocomplete>
              </mat-form-field>
    </div>
    <div class="col-md-2">
              <mat-form-field>
                <input matInput placeholder="Staff" [formControl]="searchStaff" [matAutocomplete]="staffName" [(ngModel)]="strSelectedStaff"  (ngModelChange)="staffNgModelChanged($event)">
                   <mat-autocomplete #staffName="matAutocomplete">
                      <mat-option *ngFor="let item of lstStaff" [value]="item.strUserName" (onSelectionChange)="staffChanged(item)">{{ item.strUserName }} </mat-option>
                   </mat-autocomplete>
              </mat-form-field>
    </div>
    <div class="col-md-4" style="margin-top: 13px;" >
      <ngx-select-dropdown [config]="branchConfig" [options]="branchOptions" 
      [(ngModel)]="lstBranch" [multiple]="true"></ngx-select-dropdown>
 </div>
    <div class="col-md-3" style="margin-top: 13px;">
      <ngx-select-dropdown [config]="productConfig" [options]="productOptions" 
      [(ngModel)]="lstProduct" [multiple]="true"></ngx-select-dropdown>
  </div>

  <div class="col-md-3" style="margin-top: 13px;">
          <ngx-select-dropdown [config]="brandConfig" [options]="brandOptions" 
          [(ngModel)]="lstBrand" [multiple]="true"></ngx-select-dropdown>
  </div>

  <div class="col-md-3" style="margin-top: 13px;">
          <ngx-select-dropdown [config]="itemCategoryConfig" [options]="itemCategoryOptions" 
          [(ngModel)]="lstItemCategory" [multiple]="true"></ngx-select-dropdown>
  </div>
  
  <div class="col-md-3" style="margin-top: 13px;">
      <ngx-select-dropdown [config]="itemGroupConfig" [options]="itemGroupOptions" 
      [(ngModel)]="lstItemGroup" [multiple]="true"></ngx-select-dropdown>
  </div>
  <div class="col-md-6" >
          <mat-form-field>
            <input matInput  placeholder="Item" [formControl]="searchItem" [matAutocomplete]="Itemname" [(ngModel)]="strSelectedItem" #idItem (ngModelChange)="itemNgModelChanged($event)">
              <mat-autocomplete #Itemname="matAutocomplete">
                  <mat-option *ngFor="let item of lstItem" [value]="item.code_name" (onSelectionChange)="itemChanged(item)">
                      {{ item.code_name }}
                  </mat-option>                                      
              </mat-autocomplete>
          </mat-form-field>
  </div>
  <div class="text-center mt-3">
    <mat-checkbox name="same" [(ngModel)]="blnSmartChoice">Exclude Smartchoice</mat-checkbox>
  </div>
  <div style="margin-left: 20px;" class="text-center mt-3" >
    <mat-checkbox name="same" [(ngModel)]="blnService">Exclude Myg Care</mat-checkbox>
  </div>
             <div class="col-md-3" style="margin-top: 12px;">
               <button  type="submit" *ngIf="blnDownload"  class="btn save_btn" (click)="exportData()">Export</button>
            </div> 


      </div>
  </div>
</div>   


<ngx-spinner
  bdColor="rgba(51,51,51,0.8)"
  size="medium"
  color="#fff"
  type="ball-scale-multiple"
>
  <p style="font-size: 20px; color: white">Loading...</p>
</ngx-spinner>


