<div class="row">
    <div class="col-lg-12 col-md-12 card">
        <form>
            <div class="form-head" id="form-blue">
                <div class="row">
                    <h4 class="form-head col-sm-5 col-md-5 col-lg-5">

                        Product Report
                    </h4>

                    <div class="nastock col-sm-5 col-md-5 col-lg-5 pt-1">
                        <label class="switch">
                            <input class="switch-input" type="checkbox" (change)="switchChange()" name="type"
                                [(ngModel)]="type" />
                            <span class="switch-label" data-on="Value" data-off="Qty"></span>
                            <span class="switch-handle"></span>
                        </label>
                    </div>

                    
                    <!-- <div class="col-sm-2 col-md-2 col-lg-2"> -->
                        <!-- <a data-toggle="tooltip" title="Export"> <i class="fa fa-external-link" data-toggle="modal"
                                data-target="#myModal" aria-hidden="true"></i></a> -->
                        <a *ngIf="blnDownload" data-toggle="tooltip" title="Export"> <i class="fa fa-download" data-toggle="modal"
                            data-target="#myModal" aria-hidden="true" (click)="openExport(exportModal);typeWise=!typeWise"></i></a>
                        &nbsp;&nbsp;&nbsp;
                        <a *ngIf="blnDownload" data-toggle="tooltip" title="Mail"><i class="fa fa-envelope" data-toggle="modal"
                            data-target="#myModal-two" aria-hidden="true" (click)="openMail()"></i></a>
                                &nbsp;&nbsp;
                                <!-- <a data-toggle="tooltip" title="Chat"><i class="fa fa-comment-o" data-toggle="modal"
                                        data-target="#myModal-three" aria-hidden="true"></i></a> -->
                    <!-- </div> -->

                </div>
            </div>
            <div class="row">
                <!-- <div class="padd_l_r mt-4">
                    <app-date-range-picker-3 (onSelectDate)="datFromDate=$event[0];datToDate=$event[1];showDatewiseData($event[0],$event[1]);">
                    </app-date-range-picker-3>
                </div> -->
                <div class="row container">
                    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-3">
                        <mat-form-field>
                            <input name="fromDate" (click)="picker.open()" matInput [matDatepicker]="picker" placeholder="From" [(ngModel)]="datFromDate">
                            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </div>
                    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-3">
                        <mat-form-field>
                            <input name="toDate" (click)="picker1.open()" matInput [matDatepicker]="picker1" placeholder="To" [(ngModel)]="datToDate">
                            <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                            <mat-datepicker #picker1></mat-datepicker>
                        </mat-form-field>
                    </div>
                    
                

                <div class="col-md-3 col-lg-3 col-sm-3 col-xs-3">
                    <mat-form-field>
                        <input matInput placeholder="Branch" [(ngModel)]="branchName" name="branch" [formControl]="searchBranch" [matAutocomplete]="branch" #idBranch>
                        <mat-autocomplete #branch="matAutocomplete">
                            <mat-option *ngFor="let item of lstBranches" [value]="item.name" (onSelectionChange)="BranchChanged(item)">
                                {{ item.name }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>

                <div class="col-md-3 col-lg-3 col-sm-3 col-xs-3">
                    <mat-form-field>
                        <input matInput placeholder="Staff" [(ngModel)]="staffName" name="staff" [formControl]="searchStaff" [matAutocomplete]="staff" #idStaff>
                        <mat-autocomplete #staff="matAutocomplete">
                            <mat-option *ngFor="let item of lstStaffs" [value]="item.strUserName" (onSelectionChange)="StaffChanged(item)">
                                {{ item.strUserName }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>
                </div>
</div>
                <div class="padd_l_r mt-3">
                    <button class="ok-button" mat-raised-button (click)="showDatewiseData(datFromDate,datToDate);" color="primary" mat-button>
            Submit
          </button>
                </div>
            </div>
        </form>
    </div>
  </div>
    <div class="row" *ngIf="nodata.length>0">
            <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12" *ngIf="serviceChartLabels.length > 0">
                    <div style="margin: 0 0 0 0; padding: 0 0 0 0;display: flow-root;padding: 12px;" class="border_top1 card">
                        {{"Product Wise - "|uppercase}}
                        <!-- <span style="position: initial;" class="all_span pull-right" (click)="showAll()">All</span> -->
                        <small *ngIf="barChartOptions.title.text.length<=10">
                  {{ barChartOptions.title.text|uppercase }}
                </small>
                        <small *ngIf="barChartOptions.title.text.length>10">
                  {{ barChartOptions.title.text|uppercase|slice:0:10 }}...
                </small>
                        <span class="pull-right">
        
                            <!-- Show pie chart -->
                            <a data-toggle="tooltip" *ngIf="blnChartType" title="Show pie chart data" style="cursor: pointer;" (click)="changeChart()">
                            <i class="fas fa-chart-pie"></i>
                            </a>
                            <!-- Show pie char end -->
                            <!-- Show bar chart -->
                            <a data-toggle="tooltip" *ngIf="!blnChartType" title="Show bar chart data" style="cursor: pointer;" (click)="changeChart()">
                                <i class="fas fa-chart-bar"></i>
                                </a>
                            <!-- Show bar char end -->
                            <!-- Table data icon -->
                            <a data-toggle="tooltip" title="Table data" style="cursor: pointer;" (click)="showPopupData(dataModal,'Product')">
                                    &nbsp;<i class="fa fa-eye" data-toggle="modal" data-target="#chart_modal" aria-hidden="true"></i>
                                    &nbsp;&nbsp;
                                    </a>
                            <!-- Table data icon end here -->
                  <ng-container *ngIf="serviceMaxIndex>1  && blnChartType">
                    <span class="chart-icons fas fa-arrow-left" (click)="moveBar('product','left')"></span>
                        <small>
                      &nbsp; Page {{serviceCurrentIndex}} of {{serviceMaxIndex}} &nbsp;
                    </small>
                        <span class="chart-icons fas fa-arrow-right" (click)="moveBar('product','right')"></span>
                        </ng-container>
                        &nbsp;&nbsp;
                        <span class="chart-icons active fa fa-chevron-up" title="Good" *ngIf="blnGood  && blnChartType" (click)="goodOnClick()" [ngClass]="{'active':blnActive}"></span>
                        <span class="chart-icons fas fa-chevron-down" title="Poor" *ngIf="blnPoor  && blnChartType" (click)="poorOnClick()" [ngClass]="{'active':!blnActive}"></span>
        
                        </span>
                    </div>
                    <div id="chart" class="card"  *ngIf="blnChartType"> 
                            <!-- setting bar chart -->
                        <canvas height="235px" baseChart [datasets]="serviceChartData" [labels]="serviceChartLabels" [options]="barChartOptions" [legend]="serviceChartLegend" [chartType]="serviceChartType" [colors]="barSalesChartColor" (chartClick)="chartClicked($event)">
                        </canvas> 
                        </div>
                        <div id="chart" class="card" *ngIf="!blnChartType">  
                            <!-- setting pie chart -->
                        <canvas  height="235px" baseChart [options]="productPieOptions" [datasets]="serviceChartData" [labels]="serviceChartLabels1"
                          [colors]="pieChartColors" [chartType]="productPieChartType" (chartClick)="chartClicked($event)">
                        </canvas>
                      </div>
    
                      <!-- <div id="chart" *ngIf="blnChartType">
                        <canvas height="235" baseChart [datasets]="serviceChartData" [data]="serviceChartData[1].data" [labels]="serviceChartLabels" [options]="chartOptions" [legend]="serviceChartLegend" [chartType]="serviceChartType" [colors]="barSalesChartColor" (chartClick)="chartClicked($event)">
                        </canvas>
                      </div> -->
    
                    </div>
    

        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12" *ngIf=" brandPieChartLabels.length > 0">
            <div style="margin: 0 0 0 0; padding: 0 0 0 0;display: flow-root;padding: 12px;" class="border_top2 card">
                {{"Brand Wise - "|uppercase}}
                <small *ngIf="brandPieOptions.title.text.length<=10">
          {{ brandPieOptions.title.text|uppercase }}
        </small>
                <small *ngIf="brandPieOptions.title.text.length>10">
          {{ brandPieOptions.title.text|uppercase|slice:0:10 }}...
        </small>
                <span class="pull-right">
                    <!-- Show pie chart -->
                    <a data-toggle="tooltip" *ngIf="blnBrandChartType" title="Show pie chart data" style="cursor: pointer;" (click)="brandchangeChart()">
                            <i class="fas fa-chart-pie"></i>
                            </a>
                            <!-- Show pie char end -->
                            <!-- Show bar chart -->
                            <a data-toggle="tooltip" *ngIf="!blnBrandChartType" title="Show bar chart data" style="cursor: pointer;" (click)="brandchangeChart()">
                                <i class="fas fa-chart-bar"></i>
                                </a>
                            <!-- Show bar char end -->
                     <!-- Table data icon -->
                     <a data-toggle="tooltip" title="Table data" style="cursor: pointer;" (click)="showPopupData(dataModal,'Brand')">
                            &nbsp;<i class="fas fa-eye" data-toggle="modal" data-target="#chart_modal" aria-hidden="true"></i>
                            &nbsp;&nbsp;
                            </a>
                    <!-- Table data icon end here -->
          <ng-container *ngIf="brandMaxIndex>1 && blnBrandChartType">
            <span class="chart-icons fa fa-arrow-left" (click)="moveBar('brand','left')"></span>
                <small>
              &nbsp; Page {{brandCurrentIndex}} of {{brandMaxIndex}} &nbsp;
            </small>
                <span class="chart-icons fa fa-arrow-right" (click)="moveBar('brand','right')"></span>
                </ng-container>
                &nbsp;&nbsp;
                <!-- <span class="chart-icons active fa fa-chevron-up" title="Good"></span>
              <span class="chart-icons fa fa-chevron-down" title="Poor"></span> -->
                </span>
            </div>
            <div id="chart" *ngIf="blnBrandChartType" class="card">
                <canvas height="235" baseChart [options]="brandPieOptions" [datasets]="brandPieChartData" [labels]="brandPieChartLabels" [legend]="brandChartLegend" [colors]="barSalesChartColor" [chartType]="brandPieChartType" (chartClick)=brandPieChartClicked($event)>
        </canvas>
            </div>

            <div id="chart" class="card" *ngIf="!blnBrandChartType">
                    <canvas height="235" baseChart [options]="productPieOptions" [datasets]="brandPieChartData" [labels]="brandPieChartLabels1" [colors]="pieChartColors" [chartType]="productPieChartType" (chartClick)=brandPieChartClicked($event)>
            </canvas>
                </div>
        </div>

        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12" *ngIf=" itemPieChartLabels.length > 0">
            <div style="margin: 0 0 0 0; padding: 0 0 0 0;display: flow-root;padding: 12px;" class="border_top3 card">
                {{"Item Wise - "|uppercase}}
                <small *ngIf="itemPieOptions.title.text.length<=10">
          {{ itemPieOptions.title.text|uppercase }}
        </small>
                <small *ngIf="itemPieOptions.title.text.length>10">
          {{ itemPieOptions.title.text|uppercase|slice:0:10 }}...
        </small>
                <span class="pull-right">
                     <!-- Show pie chart -->
                     <!-- <a data-toggle="tooltip" *ngIf="blnItemChartType" title="Show pie chart data" style="cursor: pointer;" (click)="itemchangeChart()">
                            <i class="fa fa-pie-chart"></i>
                            </a> -->
                            <!-- Show pie char end -->
                            <!-- Show bar chart -->
                            <!-- <a data-toggle="tooltip" *ngIf="!blnItemChartType" title="Show bar chart data" style="cursor: pointer;" (click)="itemchangeChart()">
                                <i class="fa fa-bar-chart"></i>
                                </a> -->
                            <!-- Show bar char end -->

                    <!-- Table data icon -->
                    <a data-toggle="tooltip" title="Table data" style="cursor: pointer;" (click)="showPopupData(dataModal,'Item')">
                            &nbsp;<i class="fa fa-eye" data-toggle="modal" data-target="#chart_modal" aria-hidden="true"></i>
                            &nbsp;&nbsp;
                            </a>
                    <!-- Table data icon end here -->
          <ng-container *ngIf="itemMaxIndex>1 && blnBrandChartType">
            <span class="chart-icons fa fa-arrow-left" (click)="moveBar('item','left')"></span>
                <small>
              &nbsp; Page {{itemCurrentIndex}} of {{itemMaxIndex}} &nbsp;
            </small>
                <span class="chart-icons fa fa-arrow-right" (click)="moveBar('item','right')"></span>
                </ng-container>
                </span>
            </div>
            <div id="chart" class="card" *ngIf="blnItemChartType">
                <canvas height="235" baseChart [options]="itemPieOptions" [datasets]="itemPieChartData" [labels]="itemPieChartLabels" [legend]="itemChartLegend" [colors]="barSalesChartColor" [chartType]="itemPieChartType" (chartClick)=itemPieChartClicked($event)>
        </canvas>
            </div>

            <div class="card" id="chart" *ngIf="!blnItemChartType">
                    <canvas height="235" baseChart [options]="productPieOptions" [data]="itemPieChartData" [labels]="itemPieChartLabels" [legend]="itemChartLegend" [colors]="pieChartColors" [chartType]="productPieChartType" (chartClick)=itemPieChartClicked($event)>
            </canvas>
                </div>

        </div>

        <div class="col-xl-6 col-lg-6 col-md-12 col-sm-12 col-xs-12" *ngIf=" staffPieChartLabels.length > 0">
            <div style="margin: 0 0 0 0; padding: 0 0 0 0;display: flow-root;padding: 12px;" class="border_top4 card">
                {{"Staff Wise - "|uppercase}}
                <small *ngIf="staffPieOptions.title.text.length<=5">
          {{ staffPieOptions.title.text|uppercase }}
        </small>
                <small *ngIf="staffPieOptions.title.text.length>5">
          {{ staffPieOptions.title.text|uppercase|slice:0:5 }}...
        </small>
                <span class="pull-right">
                      <!-- Show pie chart -->
                      <!-- <a data-toggle="tooltip" *ngIf="blnStaffChartType" title="Show pie chart data" style="cursor: pointer;" (click)="staffchangeChart()">
                            <i class="fa fa-pie-chart"></i>
                            </a> -->
                            <!-- Show pie char end -->
                            <!-- Show bar chart -->
                            <!-- <a data-toggle="tooltip" *ngIf="!blnStaffChartType" title="Show bar chart data" style="cursor: pointer;" (click)="staffchangeChart()">
                                <i class="fa fa-bar-chart"></i>
                                </a> -->
                            <!-- Show bar char end -->
                     <!-- Table data icon -->
                     <a data-toggle="tooltip" title="Table data" style="cursor: pointer;" (click)="showPopupData(dataModal,'Staff')">
                            &nbsp;<i class="fa fa-eye" data-toggle="modal" data-target="#chart_modal" aria-hidden="true"></i>
                            &nbsp;&nbsp;
                            </a>
                    <!-- Table data icon end here -->
          <ng-container *ngIf="staffMaxIndex>1 && blnStaffChartType">
            <span class="chart-icons fa fa-arrow-left" (click)="moveBar('staff','left')"></span>
                <small>
              &nbsp; Page {{staffCurrentIndex}} of {{staffMaxIndex}} &nbsp;
            </small>
                <span class="chart-icons fa fa-arrow-right" (click)="moveBar('staff','right')"></span>
                </ng-container>
                </span>
            </div>
            <div id="chart" class="card" *ngIf="blnStaffChartType" >
                <canvas height="235" baseChart [options]="staffPieOptions" [datasets]="staffPieChartData" [labels]="staffPieChartLabels" [legend]="staffChartLegend" [colors]="barSalesChartColor" [chartType]="staffPieChartType">
        </canvas>
            </div>
            <div id="chart" class="card" *ngIf="!blnStaffChartType">
                    <canvas height="235" baseChart [options]="productPieOptions" [data]="staffPieChartData" [labels]="staffPieChartLabels1" [legend]="staffChartLegend" [colors]="pieChartColors" [chartType]="productPieChartType">
            </canvas>
                </div>

        </div>
    </div>

 <!-- table data starts here -->
 <div class="col-lg-12" *ngIf = "showTable">
        <div class="example-header">
          <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
          </mat-form-field>
        </div>
    
        <div class="example-container mat-elevation-z8">
    
          <mat-table [dataSource]="dataSource" matSort>
    
            <ng-container matColumnDef="date">
              <mat-header-cell *matHeaderCellDef mat-sort-header="dat_created_at"> Date </mat-header-cell>
              <mat-cell *matCellDef="let row">
                  {{row[3] | date : 'dd-MM-yyyy'}}</mat-cell>
            </ng-container>
    
            <ng-container matColumnDef="enqno">
              <mat-header-cell *matHeaderCellDef mat-sort-header="vchr_enquiry_num"> Enq no </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{row[4]}}</mat-cell>
            </ng-container>
    
            <ng-container matColumnDef="staff">
              <mat-header-cell *matHeaderCellDef mat-sort-header="staff_first_name"> Staff </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{row[2]|titlecase}}</mat-cell>
            </ng-container>
    
            <ng-container matColumnDef="customer">
              <mat-header-cell *matHeaderCellDef mat-sort-header="row.customer_first_name"> Customer </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{row[6]|titlecase}}</mat-cell>
            </ng-container>
    
            <ng-container matColumnDef="product">
                <mat-header-cell *matHeaderCellDef mat-sort-header="vchr_service"> Product </mat-header-cell>
                <mat-cell *matCellDef="let row"> {{row[1]}}</mat-cell>
              </ng-container>
    
            <ng-container matColumnDef="brand">
              <mat-header-cell *matHeaderCellDef mat-sort-header="customer_mobile"> Brand </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{row[10]}}</mat-cell>
            </ng-container>
    
            <!-- <ng-container matColumnDef="branch">
              <mat-header-cell *matHeaderCellDef mat-sort-header="branch_name"> Branch </mat-header-cell>
              <mat-cell *matCellDef="let row"> {{row[11]}}</mat-cell>
            </ng-container> -->
    
            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;">
            </mat-row>
          </mat-table>
          <mat-paginator #paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator>
          <!-- <mat-paginator [pageSizeOptions]="[10, 25, 100]"></mat-paginator> -->
        </div>
      </div>
<div class="card" *ngIf="nodata.length==0">
    <h5 class="mat-toolbar">No data to display</h5>
</div>



       <!-- Modal -->
<div class="modal fade" id="myModal" role="dialog" [style.display]="showModal ? 'block' : 'none'">
        <div class="modal-dialog modal-sm" [style.display]="showModal ? 'block' : 'none'">

                <!-- Modal content-->
                <div class="modal-content">
                        <div class="modal-header">
                                <button type="button" class="close" (click)="closeExport()" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title text-center" id="modal-blue">Export</h4>
                        </div>
                        <div class="modal-body">
                                <h6>Choose File Format</h6>
                                <hr>
                                <form style="padding-bottom: 5px;" class="text-center">
                                        <mat-radio-group class="unique-radio-button" name="export" [(ngModel)]="export">
                                                <mat-radio-button [value]=true>
                                                        <i class="fa fa-file-excel-o fa-2x bl" aria-hidden="true"></i>
                                                        <strong>Excel</strong></mat-radio-button>
                                                <mat-radio-button [value]=false>
                                                        <i class="fa fa-file-pdf-o fa-2x re" aria-hidden="true"></i>
                                                        <strong>PDF</strong></mat-radio-button>
                                        </mat-radio-group>
                                </form>
                                <br>
                                <form class="text-center">
                                        <mat-checkbox [(ngModel)]="chart" name="chart" id="chart" value="chart">Chart</mat-checkbox>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <mat-checkbox [(ngModel)]="table" name="table" id="table" value="table">Table data</mat-checkbox>

                                        <hr>
                                </form>
                                <div class="row">
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                                        <button type="button" class="mat-button mat-raised-button mat-primary pull-left"
                                                                data-dismiss="modal">Cancel</button>
                                                </div>
                                                <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                                        <button type="button" (click)='exportPdfExcel(datFromDate,datToDate)'
                                                                class="mat-raised-button mat-accent pull-right" data-dismiss="modal">Export</button>
                                                </div>
                                        </div>
                        </div>
                        
                </div>

        </div>
</div>

<!-- Modal -->
<div class="modal fade" id="myModal-two" role="dialog" [style.display]="showModal2 ? 'block' : 'none'">
        <div class="modal-dialog modal-sm" [style.display]="showModal2 ? 'block' : 'none'">

                <!-- Modal content-->
                <div class="modal-content">
                        <div class="modal-header">
                                <button type="button" class="close" (click)="closeMail()" data-dismiss="modal">&times;</button>
                                <h4 class="modal-title text-center" id="modal-blue">Export as Email</h4>
                        </div>
                        <div class="modal-body">
                                <h6>Choose File Format</h6>
                                <hr>
                                <form style="padding-bottom: 5px;" class="text-center">

                                        <mat-radio-group class="unique-radio-button" name="emailExport" [(ngModel)]="emailExport">
                                                <mat-radio-button [value]=true>
                                                        <i class="fa fa-file-excel-o fa-2x bl" aria-hidden="true"></i>
                                                        <strong>Excel</strong></mat-radio-button>
                                                <mat-radio-button [value]=false>
                                                        <i class="fa fa-file-pdf-o fa-2x re" aria-hidden="true"></i>
                                                        <strong>PDF</strong></mat-radio-button>
                                        </mat-radio-group>
                                </form>
                                <br>
                                <form class="text-center">
                                        <mat-checkbox [(ngModel)]="chart" name="chart" id="chart" value="chart">Chart</mat-checkbox>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <mat-checkbox [(ngModel)]="table" name="table" id="table" value="table">Table
                                                data</mat-checkbox>

                                        <hr>
                                </form>
                                <mat-form-field>
                                        <input matInput placeholder="Email address:" [(ngModel)]="email">
                                </mat-form-field>

                                <div class="row">
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                                <button type="button" class="mat-button mat-raised-button mat-primary pull-left"
                                                        data-dismiss="modal">Cancel</button>
                                        </div>
                                        <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                                <button type="button" (click)='exportWithEmail(datFromDate,datToDate)'
                                                        class="mat-raised-button mat-accent pull-right" data-dismiss="modal">Send</button>
                                        </div>
                                </div>

                        </div>


                </div>

        </div>
</div>

<!--Modal -->
<!-- <div class="modal fade" id="myModal-three" role="dialog">
<div class="modal-dialog modal-sm">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title text-center">Chat</h4>
        </div>
        <div class="modal-body">


                <form style="background-color: rgb(185, 214, 255); padding-bottom: 5px;" class="text-center">
                            
                  <mat-radio-group  name="chatExport" [(ngModel)]="chatExport">
                      <mat-radio-button  [value]=true>
                          <i class="fa fa-file-excel-o" aria-hidden="true"></i> Excel</mat-radio-button>
                      <mat-radio-button  [value]=false>
                          <i class="fa fa-file-pdf-o" aria-hidden="true"></i>PDF</mat-radio-button>
                  </mat-radio-group>
               

                
              </form>
                      <br>
               <form class="text-center">
                      <mat-checkbox [(ngModel)]="chart" name="chart" id="chart"  value="chart">Chart</mat-checkbox>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                      <mat-checkbox [(ngModel)]="table" name="table" id="table"  value="table">Table-data</mat-checkbox>

                        <hr>
    
    
                       
                    </form>



            <mat-form-field>
                <input matInput placeholder="Name:" [(ngModel)]="chatName" name="chatName">
            </mat-form-field>


        </div>

        <div class="modal-footer">
            <button type="button" class="mat-raised-button mat-accent" data-dismiss="modal">Export</button>
        </div>
    </div> 


</div>
</div> -->

<!-- chart table start here -->
<ng-template #dataModal let-modal>
<!-- <div class="modal fade" id="chart_modal" role="dialog" [style.display]="showPopup ? 'block' : 'none'"> -->
    <!-- <div class="modal-dialog modal-lg">
      <div class="modal-content"> -->
        <!-- <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" (click)="closePopup()">&times;</button>
          <h4 class="modal-title text-center">{{chartHead}} Wise Report</h4>
        </div> -->
        <!-- <div class="modal-body">
          <div class="example-container mat-elevation-z8"> -->

          <mat-table style="max-height: 800px !important; overflow: auto;" [dataSource]="dataSource1" matSort class="mat-elevation-z8">
  
              <!-- Position Column -->
              <ng-container matColumnDef="name">
                <mat-header-cell *matHeaderCellDef mat-sort-header='Name'> {{ chartHead }} </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.Name}} </mat-cell>
                <!-- <mat-cell *matCellDef> Total </mat-cell> -->

              </ng-container>
  
              <!-- Enquiry Quantity Column -->
              <ng-container matColumnDef="enquiryQty">
                <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='EnquiryQty'> Enq.Qty </mat-header-cell>
                <mat-cell  class="text-right" *matCellDef="let element"> {{element.EnquiryQty}} </mat-cell>
                <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->

              </ng-container>

               <!-- Sales Quantity Column -->
               <ng-container matColumnDef="salesQty">
                    <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='SaleQty'> Sale Qty </mat-header-cell>
                    <mat-cell  class="text-right" *matCellDef="let element"> {{element.SaleQty}} </mat-cell>
                    <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->

                  </ng-container>

              <!-- Contribution Percentage Column -->
              <ng-container matColumnDef="contribQtyPer">
                    <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='ContribQty_per'> Contrib Qty % </mat-header-cell>
                    <mat-cell  class="text-right" *matCellDef="let element"> {{element.ContribQty_per}} </mat-cell>
                    <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->

              </ng-container>

            <!-- Enquiry Value Column -->
            <ng-container matColumnDef="enquiryVal">
                <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='EnquiryValue'> Enq.Value </mat-header-cell>
                <mat-cell  class="text-right" *matCellDef="let element"> {{element.EnquiryValue}} </mat-cell>
                <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->

            </ng-container>

       <!-- Sales Value Column -->
       <ng-container matColumnDef="salesVal">
            <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='SaleValue'> Sale Value </mat-header-cell>
            <mat-cell  class="text-right" *matCellDef="let element"> {{element.SaleValue}} </mat-cell>
            <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->

          </ng-container>

              <!-- Contribution Percentage Column -->
              <ng-container matColumnDef="contribPer">
                <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='Contrib_per'> Contrib Value % </mat-header-cell>
                <mat-cell  class="text-right" *matCellDef="let element"> {{element.Contrib_per}} </mat-cell>
                <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->

              </ng-container>

                <!-- Conversion Percentage Column -->
                <ng-container matColumnDef="conversionPer">
                        <mat-header-cell  class="text-right" *matHeaderCellDef mat-sort-header='Conversion_per'> Conversion % </mat-header-cell>
                        <mat-cell  class="text-right" *matCellDef="let element"> {{element.Conversion_per}} </mat-cell>
                        <!-- <mat-cell *matCellDef> {{enqQtyTot}} </mat-cell> -->

                    </ng-container>

              <mat-header-row *matHeaderRowDef="displayedColumns1;sticky: true"></mat-header-row>
              <mat-row *matRowDef="let row; columns: displayedColumns1;"></mat-row>
              <!-- <mat-row *matRowDef></mat-row> -->

              <!-- <mat-footer-row *matFooterRowDef></mat-footer-row> -->


              <!-- <mat-footer-row *matFooterRowDef="displayedColumns1; sticky: true"></mat-footer-row> -->
                <!-- <ng-container>
                   
                    <mat-cell> {{enqQtyTot}} </mat-cell>
                </ng-container> -->

            </mat-table>



            <!-- <mat-paginator [pageIndex]="0" [length]="10" [pageSize]="10" [pageSizeOptions]="[10, 25, 100]"></mat-paginator> -->
            <!-- </div>
        </div> -->
        <div class="modal-footer">

                         
                <!-- &nbsp;&nbsp; -->
            <div class="table-responsive">
                <table style="width: 100%;">
                    <tr>
                        <td style=" width: 97.7px;color:#556171;font-size: 12px;"><b>Grand Total</b></td>
                        <td style=" width: 97.7px;" class="text-right"><b>{{enqQtyTot}}</b></td>                            
                        <td style=" width: 97.7px;" class="text-right"><b>{{saleQtyTot}} </b></td>                            
                        <td style=" width: 97.7px;">&nbsp;</td>
                        <td style=" width: 97.7px;" class="text-right"><b>{{enqValTot}}</b> </td>    
                        <td style=" width: 97.7px;" class="text-right"><b>{{grandTotal}}</b> </td>                            
                        <td style=" width: 97.7px;">&nbsp;</td>
                        <td *ngIf="blnDownload" style=" width: 97.7px;"><button  type="button" style="background:#12aa89;border:0px;" class="btn btn-primary pull-right" (click)="exportAsXLSX(chartHead)" >Export</button></td>
                    </tr>
                </table>
            </div>
           
          <!-- <button type="button" class="mat-raised-button mat-accent" data-dismiss="modal">Export</button> -->
        </div>
      <!-- </div>
    </div> -->
  <!-- </div> -->

</ng-template>
      <!-- chart table end here -->
      <ng-template #exportModal let-modal>

        <div class="modal-content">
            <div class="modal-header">
                    <button type="button" class="close" (click)="closeExport()" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title text-center" id="modal-blue">Export</h4>
            </div>
            <div class="modal-body">
                    <h6>Choose File Format</h6>
                    <hr>
                    <form style="padding-bottom: 5px;" class="text-center">
                            <mat-radio-group class="unique-radio-button" name="export" [(ngModel)]="export">
                                    <mat-radio-button [value]=true>
                                            <i class="fa fa-file-excel-o fa-2x bl" aria-hidden="true"></i>
                                            <strong>Excel</strong></mat-radio-button>
                                    <mat-radio-button [value]=false>
                                            <i class="fa fa-file-pdf-o fa-2x re" aria-hidden="true"></i>
                                            <strong>PDF</strong></mat-radio-button>
                            </mat-radio-group>
                    </form>
                    <br>
                    <form class="text-center">
                            <mat-checkbox [(ngModel)]="chart" name="chart" id="chart" value="chart">Chart</mat-checkbox>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                            <mat-checkbox [(ngModel)]="table" name="table" id="table" value="table">Table data</mat-checkbox>

                            <hr>
                    </form>
                    <div class="row">
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                            <button type="button" class="mat-button mat-raised-button mat-primary pull-left"
                                                    data-dismiss="modal">Cancel</button>
                                    </div>
                                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6">
                                            <button type="button" (click)='exportPdfExcel(datFromDate,datToDate)'
                                                    class="mat-raised-button mat-accent pull-right" data-dismiss="modal">Export</button>
                                    </div>
                            </div>
            </div>
            
    </div>
          
      </ng-template>

      <!-- <app-spinner *ngIf="showSpinner"></app-spinner> -->



