<div class="col-md-12 col-lg-12">
  <div class="card">
    <div class="card-body">
      <form>
        <h3 class="form-head">Add user</h3>
        <div class="row mt-3">
          <div class="col-md-2" *ngIf="blnUserCode">
            <mat-form-field >
              <input required [(ngModel)]="code" name="code" matInput placeholder="User code">
              <mat-error *ngIf="form.controls['code'].hasError('required')">
                User id required
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field>
              <input pattern="[a-zA-Z\s]*$" required [(ngModel)]="firstname" name="first" matInput
                placeholder="First name">
              <mat-error *ngIf="form.controls['fname'].hasError('required')">
                firstname required
              </mat-error>
              <mat-error *ngIf="form.controls['fname'].errors?.pattern">
                alphabets and spaces only allowed
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field class="mat-icon-left">
              <input pattern="[a-zA-Z\s]*$" required [(ngModel)]="lastname" name="lastname" matInput
                placeholder="Last name">
              <mat-error *ngIf="form.controls['lname'].hasError('required') ">
                last name required
              </mat-error>
              <mat-error *ngIf="form.controls['lname'].errors?.pattern">
                alphabets and spaces only allowed
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <mat-form-field>
              <input [(ngModel)]="email" name="email" matInput placeholder="E-mail">
              <mat-error *ngIf="form.controls['email'].errors?.email && form.controls['email'].touched">
                invalid email
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-2">
            <mat-form-field class="mat-icon-left">
              <input type="number" required [(ngModel)]="contactno" name="contactno" matInput placeholder="Contact no.">
              <mat-error *ngIf="form.controls['phone'].hasError('required') ">
                phone required
              </mat-error>
              <mat-error *ngIf="form.controls['phone'].errors?.number && form.controls['phone'].touched">
                Numbers only allowed
              </mat-error>
              <mat-error *ngIf="form.controls['phone'].errors?.min && form.controls['phone'].touched">
                requires minimum 10 digits
              </mat-error>
              <mat-error *ngIf="form.controls['phone'].errors?.max && form.controls['phone'].touched">
                maximum 12 digits allowed
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-3">
            <mat-form-field>
              <mat-select required [(ngModel)]="group" name="group" placeholder="Group"
                (ngModelChange)="onChangeGroup($event)">
                <mat-option *ngFor="let item of lstGroups" value="{{item.id}}" (onSelectionChange) = groupSelectionChange(item) >{{item.groupname}}</mat-option>
              </mat-select>
              <mat-error>
                required
              </mat-error>
            </mat-form-field>
          </div>
          <!-- <div class="col-md-4">
                        <mat-form-field>
                            <input required matInput placeholder="Branch" id="typeahead-branch" [formControl]="searchBranch" [matAutocomplete]="branchname"
                              [(ngModel)]="strSelectedBranch" (ngModelChange)=populateBranchFields()>
                            <mat-autocomplete #branchname="matAutocomplete">
                              <mat-option *ngFor="let item of lstBranch" [value]="item.id">
                                {{ item}}
                              </mat-option>
                            </mat-autocomplete>
                          </mat-form-field>
                    </div> -->
          <div class="col-md-3">
            <mat-form-field>
              <input matInput placeholder="Branch*" [formControl]="searchBranch" [matAutocomplete]="branchname"
                [(ngModel)]="strSelectedBranch" #brandId>
              <mat-autocomplete #branchname="matAutocomplete">
                <mat-option *ngFor="let item of lstBranch" [value]="item.branchname"
                  (onSelectionChange)="BranchChanged(item)">
                  {{ item.branchname }}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div class="col-md-3 mt-4">
            <ngx-select-dropdown ngDefaultControl [config]="priceConfig" [ngModelOptions]="{standalone: true}"
              [options]="priceOptions" [(ngModel)]="lstPrice" [multiple]="true"></ngx-select-dropdown>
          </div>
          <!-- multiselect dropdown for selecting branches type wise -->
          <div class="col-md-3 mt-4">
            <ngx-select-dropdown (change)="branchTypeChanged($event)" ngDefaultControl [config]="branchTypeConfig" [ngModelOptions]="{standalone: true}"
              [options]="branchTypeOptions" [(ngModel)]="lstBranchType" [multiple]="true"></ngx-select-dropdown>
          </div>
          <!-- end -->
          <!-- new  multi select -->
          <div class="col-md-3 mt-4">
            <ngx-select-dropdown [disabled]="blnSalesCounter" ngDefaultControl [config]="config" [ngModelOptions]="{standalone: true}"
              [options]="dropdownOptions" [(ngModel)]="lstIds" [multiple]="true"></ngx-select-dropdown>
          </div>
          <div class="col-md-3 mt-4">
            <ngx-select-dropdown  ngDefaultControl [config]="itemGroupconfig" [ngModelOptions]="{standalone: true}"
              [options]="itemGroupOptions" [(ngModel)]="itemGroupDropDown" [multiple]="true"></ngx-select-dropdown>
          </div>
          <div class="col-md-3 mt-4">
            <ngx-select-dropdown ngDefaultControl [config]="Productconfig" [ngModelOptions]="{standalone: true}"
              [options]="ProductOptions" [(ngModel)]="ProductDropDown" [multiple]="true"></ngx-select-dropdown>
          </div>
          <!-- <div class="col-md-3 mt-4">
            <mat-checkbox class="example-margin" name="salesCounter" [(ngModel)]="blnSalesCounter">
              All Sales Counter &nbsp;&nbsp;
            </mat-checkbox>
          </div> -->
          <!-- new multiselect end -->
          <div class="col-md-2">
            <mat-form-field class="mat-icon-left">
              <input type="password" required [(ngModel)]="password" name="password" matInput placeholder="Password">
              <mat-error *ngIf="form.controls['password'].hasError('required')">
                password required.
              </mat-error>
              <mat-error *ngIf="form.controls['password'].hasError('minlength')">
                minimum 8 characters required
              </mat-error>
            </mat-form-field>
          </div>
          <div class="col-md-2">
            <mat-form-field class="mat-icon-left">
              <input type="password" required [(ngModel)]="confirmPassword" name="confirmPassword" matInput
                placeholder="Confirm password">
              <mat-error *ngIf="form.controls['confirmPassword'].errors?.equalTo">
                Passwords do not match.
              </mat-error>
            </mat-form-field>
          </div>
          <h6 class="col-md-2 col-lg-2 mt-4">
            <mat-checkbox class="mt-4" name="sms" [(ngModel)]="blnPromoter"> Promoter</mat-checkbox>
          </h6>
          <div class="col-lg-3 col-md-3" *ngIf="blnPromoter">
            <mat-form-field class="mat-icon-left">
              <mat-select required placeholder="Brand" [(ngModel)]="selectedBrand" name="brand">
                <mat-option *ngFor="let item of lstBrand" [value]="item.id" (onSelectionChange)="brandChanged(item)">
                  {{ item.brandname }}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div class="col-md-4">
            <label class="mb-0" style="font-size: 12px;">User image*</label>
            <input #file1 type="file" id="userImage" (change)="onChange($event)" (cuechange)="onChange($event)"
              class="input-file" id="InputFile" name="InputFile" #eventImg accept="image/jpeg" max-file-size="100kb">
          </div>
          <div class="col-md-12">
            <button class="btn save_btn mr-10 m-t-10" (click)="funcAddUserData()">Save</button>
            <button class="btn btn-secondary m-t-10" type="button" [routerLink]="['/user/listuser']">Cancel</button>
          </div>
        </div>
        <!-- upload section -->
        <!-- <h4 class="form-head">User image</h4>
                <div>
                    <div class="mt-4 mb-4 input-file-container ">
                        <input type="file" id="userImage" (change)="onChange($event)" (cuechange)="onChange($event)" class="input-file" id="InputFile" name="InputFile" #eventImg accept="image/jpeg" max-file-size="100kb" />
                    </div>
                </div> -->
        <!-- upload section end here -->
      </form>
    </div>
  </div>
</div>